<!DOCTYPE html>
<html>

<head>
    <title>Bar Chart -Horizontal</title>

    <style type="text/css">
.chart div {
  font: 10px sans-serif;
  background-color: steelblue;
  text-align: right;
  padding: 3px;
  margin: 1px;
  color: white;
}
    </style>
</head>

<body>
  
<div class="chart"></div>

    

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.0/d3.min.js"></script>

<script type="text/javascript">

d3.csv('bar-data.csv',function(data){

var margin = {top:10, right:0, bottom:20, left:50},
    width  = 800,
    height = 800;

var svg = d3.select(".chart")
    .append("svg")
    .attr("width", width)
    .attr("height", height)
    .attr("viewBox", "0 0 " + width + " " + height);




 var yScale =d3.scale.linear().domain([0,d3.max(data, function(d){ return d["value"]; })]).range([0,height - margin.top - margin.bottom]);

var xScale =d3.scale.ordinal().domain(data.map(function(d){ return d["date"]; })).rangeRoundBands([0, width - margin.right - margin.left], .1);


var xAxis = d3.svg.axis()
    .scale(xScale)
    .orient("bottom");

var yAxis = d3.svg.axis()
    .scale(yScale)
    .orient("left");


 data = data.map(function(d){ 
    d["value"] = +d["value"]; 
    return d;
});



svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
    .selectAll(".bar")
    .data(data)
     .enter()
    .append("rect")
    .attr("class", "bar")
    .attr("x", function(d){ return xScale(d["date"]); })
    .attr("y", function(d){ return yScale(d["value"]); })
    .attr("height", function(d){ return height })
    .attr("width", function(d){ return xScale.rangeBand(); });

//adding y axis to the left of the chart
svg.append("g")
    .attr("class", "y axis")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
    .call(yAxis);

//adding x axis to the bottom of chart
svg.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(" + margin.left + "," + (height - margin.bottom) + ")")
    .call(xAxis);

// var barWidth=40,width=(barWidth+10)*(data.length),height=600;
// var x=d3.scale.linear().domain(d3.extent(data, function(d) { return d.date; })).range([0,width]);
// var y=d3.scale.linear().domain(d3.extent(data, function(d) { return d.value; })).
//   rangeRound([0, height]);
//         var  date_format = d3.time.format("%d %b");

// var xAxis = d3.svg.axis()
//     .scale(x)
//     .orient("bottom")
//     .tickFormat(d3.time.format("%Y-%m"));

// var yAxis = d3.svg.axis()
//     .scale(y)
//     .orient("left")

// var svg=d3.select("div.chart")
//             .append("svg")
//             .attr('width',width)
//             .attr('height',height)
//             .append('g')
//              .attr("transform", "translate(100,20)");




});
</script>

</body>

</html>




